# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Telegram Web App

> **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** –í–µ—Ä—Å–∏—è 1.2.0 - –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Web App, –º–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å, —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º:
   - –í–≤–µ–¥–∏—Ç–µ –∏–º—è –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "Currency Exchange Bot")
   - –í–≤–µ–¥–∏—Ç–µ username –±–æ—Ç–∞ (–¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ `bot`, –Ω–∞–ø—Ä–∏–º–µ—Ä: `currency_exchange_bot`)
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ **Bot Token**, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–¥–∞—Å—Ç BotFather
   - –í—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`
   - ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ù–∏–∫–æ–º—É –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω!

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ Web App

1. –í @BotFather –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newapp`
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –∏–∑ —Å–ø–∏—Å–∫–∞
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ:
   - **Title:** Currency Exchange
   - **Description:** –û–±–º–µ–Ω –≤–∞–ª—é—Ç—ã USDT/RUB
   - **Photo:** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∫–æ–Ω–∫—É 640x360px
   - **Web App URL:** `https://yourdomain.com` (–ø–æ–∫–∞ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ª—é–±–æ–π, –ø–æ—Ç–æ–º –∏–∑–º–µ–Ω–∏—Ç–µ)
4. –ü–æ–ª—É—á–∏—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ Web App: `https://t.me/your_bot/app`

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∫–Ω–æ–ø–∫—É –º–µ–Ω—é:
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/setmenubutton` –≤ @BotFather
2. –í—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞
3. –£–∫–∞–∂–∏—Ç–µ —Ç–µ–∫—Å—Ç: "üí± –û–±–º–µ–Ω –≤–∞–ª—é—Ç—ã"
4. –£–∫–∞–∂–∏—Ç–µ URL –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞

### –®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ Chat ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ getUpdates API**
1. –ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–µ–º—É –±–æ—Ç—É –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ü—Ä–∏–≤–µ—Ç")
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
   ```
   https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates
   ```
   –ó–∞–º–µ–Ω–∏—Ç–µ `<YOUR_BOT_TOKEN>` –Ω–∞ –≤–∞—à —Ç–æ–∫–µ–Ω
3. –ù–∞–π–¥–∏—Ç–µ –≤ –æ—Ç–≤–µ—Ç–µ:
   ```json
   "chat":{"id":5124192112}
   ```
   –≠—Ç–æ —á–∏—Å–ª–æ –∏ –µ—Å—Ç—å –≤–∞—à Chat ID

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –±–æ—Ç–∞**
1. –ù–∞–ø–∏—à–∏—Ç–µ [@userinfobot](https://t.me/userinfobot) –≤ Telegram
2. –û–Ω –ø–æ–∫–∞–∂–µ—Ç –≤–∞—à Chat ID

**–î–ª—è –≥—Ä—É–ø–ø—ã:**
- Chat ID –±—É–¥–µ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä: `-1001234567890`)

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `backend/.env`:
   ```env
   # Server Configuration
   PORT=3000
   HOST=localhost

   # API Configuration
   RAPIRA_API_URL=https://api.rapira.net/open/market/rates

   # Data Storage
   ORDERS_FILE=./data/orders.json

   # Telegram Bot Configuration
   TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å
   TELEGRAM_ADMIN_CHAT_ID=–≤–∞—à_chat_id_–∑–¥–µ—Å—å
   ```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   cd backend
   npm install
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
   ```bash
   npm start
   # –∏–ª–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π:
   npm run dev
   ```

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Frontend

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `frontend/.env.local`:
   ```env
   VITE_API_URL=http://localhost:3000
   ```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   cd frontend
   npm install
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä:
   ```bash
   npm run dev
   ```

### –®–∞–≥ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Web App –ª–æ–∫–∞–ª—å–Ω–æ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—É–Ω–Ω–µ–ª—å:

**–í–∞—Ä–∏–∞–Ω—Ç 1: ngrok (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [ngrok](https://ngrok.com/)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ frontend: `npm run dev` (–æ–±—ã—á–Ω–æ –Ω–∞ –ø–æ—Ä—Ç—É 5173)
3. –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
   ```bash
   ngrok http 5173
   ```
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ HTTPS URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://abc123.ngrok.io`)
5. –û–±–Ω–æ–≤–∏—Ç–µ Web App URL –≤ @BotFather:
   - `/newapp` ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞ ‚Üí –∏–∑–º–µ–Ω–∏—Ç–µ URL

**–í–∞—Ä–∏–∞–Ω—Ç 2: localtunnel**
```bash
npx localtunnel --port 5173
```

### –®–∞–≥ 7: –î–µ–ø–ª–æ–π (Production)

1. **–†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ frontend:**
   - Vercel, Netlify, –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Ö–æ—Å—Ç–∏–Ω–≥
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTPS

2. **–†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ backend:**
   - Heroku, Railway, DigitalOcean, –∏–ª–∏ VPS
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

3. **–û–±–Ω–æ–≤–∏—Ç–µ Web App URL –≤ @BotFather:**
   - –£–∫–∞–∂–∏—Ç–µ URL –≤–∞—à–µ–≥–æ production —Å–∞–π—Ç–∞

4. **–û–±–Ω–æ–≤–∏—Ç–µ `.env` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
   ```env
   VITE_API_URL=https://your-backend-domain.com
   ```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É Web App (–∏–ª–∏ –∫–Ω–æ–ø–∫—É –º–µ–Ω—é)
3. –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –≤–∞—à —Å–∞–π—Ç –≤–Ω—É—Ç—Ä–∏ Telegram
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∑–∞—è–≤–∫–∏
5. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–æ–ª—É—á–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Telegram

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: Web App –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ URL —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤ @BotFather
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTPS (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è production)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `TELEGRAM_BOT_TOKEN` –≤ `.env`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `TELEGRAM_ADMIN_CHAT_ID` –≤ `.env`
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend —Å–µ—Ä–≤–µ—Ä–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ CORS
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `VITE_API_URL` –≤–æ frontend `.env.local`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend —Ä–∞–∑—Ä–µ—à–∞–µ—Ç CORS

### –ü—Ä–æ–±–ª–µ–º–∞: –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∞–π—Ç –æ—Ç–∫—Ä—ã—Ç —á–µ—Ä–µ–∑ Telegram Web App
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç Telegram SDK –∑–∞–≥—Ä—É–∂–µ–Ω

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Telegram Bot API](https://core.telegram.org/bots/api)
- [Telegram Web Apps](https://core.telegram.org/bots/webapps)
- [@BotFather](https://t.me/BotFather)
- [ngrok](https://ngrok.com/)

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–∞–∂–Ω–æ:**
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` —Ñ–∞–π–ª—ã –≤ Git
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ production
- –•—Ä–∞–Ω–∏—Ç–µ Bot Token –≤ —Å–µ–∫—Ä–µ—Ç–µ
- –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ Chat ID –ø—É–±–ª–∏—á–Ω–æ

